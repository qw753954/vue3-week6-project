(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ee34f57"],{1799:function(t,e,a){"use strict";var n=a("7a23"),c={"aria-label":"Page navigation example"},i={class:"pagination pagination-sm justify-content-center"},o=Object(n["h"])("span",{"aria-hidden":"true"},"«",-1),s=Object(n["h"])("span",{"aria-hidden":"true"},"»",-1);function d(t,e,a,d,l,r){return Object(n["t"])(),Object(n["e"])("nav",c,[Object(n["h"])("ul",i,[Object(n["h"])("li",{class:["page-item",{disabled:!a.pages.has_pre}]},[Object(n["h"])("a",{href:"#",class:"page-link",onClick:e[1]||(e[1]=Object(n["N"])((function(e){return t.$emit("emitChange",a.pages.current_page-1)}),["prevent"]))},[o])],2),(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(a.pages.total_pages,(function(e,c){return Object(n["t"])(),Object(n["e"])("li",{class:["page-item",{active:a.pages.current_page==e}],key:c},[Object(n["h"])("a",{href:"#",class:"page-link",onClick:Object(n["N"])((function(a){return t.$emit("emitChange",e)}),["prevent"])},Object(n["D"])(e),9,["onClick"])],2)})),128)),Object(n["h"])("li",{class:["page-item",{disabled:!a.pages.has_next}]},[Object(n["h"])("a",{href:"#",class:"page-link",onClick:e[2]||(e[2]=Object(n["N"])((function(e){return t.$emit("emitChange",a.pages.current_page+1)}),["prevent"]))},[s])],2)])])}var l={props:["pages"]};l.render=d;e["a"]=l},"8eb4":function(t,e,a){"use strict";var n=a("7a23"),c={class:"modal fade",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",ref:"modal"},i={class:"modal-dialog rounded-pill shadow",style:{"max-width":"150px"}},o={class:"modal-content rounded-pill",style:{border:"none"}},s={class:"modal-body fw-bold text-center"};function d(t,e,a,d,l,r){return Object(n["t"])(),Object(n["e"])("div",c,[Object(n["h"])("div",i,[Object(n["h"])("div",o,[Object(n["h"])("div",s,Object(n["D"])(a.msg),1)])])],512)}var l=a("7c2b"),r=a.n(l),b={data:function(){return{modal:""}},mounted:function(){this.modal=new r.a(this.$refs.modal,{backdrop:!1})},props:["msg"],methods:{openModal:function(){this.modal.show(),document.body.style.overflow="auto"},hideModal:function(){this.modal.hide()}}};b.render=d;e["a"]=b},b0c0:function(t,e,a){var n=a("83ab"),c=a("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,d="name";n&&!(d in i)&&c(i,d,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},e6dc:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=a("7a23"),c={class:"table table-hover w-75 mx-auto"},i=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",null,"圖片"),Object(n["h"])("th",null,"商品名稱"),Object(n["h"])("th",{width:"40%",colspan:"3"},"價格")])],-1),o={key:0,class:"text-secondary"},s={class:"h5 fw-bold mb-0"},d=Object(n["g"])("查看更多"),l={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},r=Object(n["g"])(" 加入購物車 ");function b(t,e,a,b,u,h){var p=Object(n["A"])("Loading"),g=Object(n["A"])("router-link"),j=Object(n["A"])("Pagination"),O=Object(n["A"])("FeedbackModal");return Object(n["t"])(),Object(n["e"])(n["a"],null,[Object(n["h"])(p,{active:u.isLoading},null,8,["active"]),Object(n["h"])("table",c,[i,Object(n["h"])("tbody",null,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(u.products,(function(t){return Object(n["t"])(),Object(n["e"])("tr",{key:t.id},[Object(n["h"])("td",null,[Object(n["h"])("img",{src:t.image,class:"rounded img-fluid img-size"},null,8,["src"])]),Object(n["h"])("td",null,Object(n["D"])(t.title),1),Object(n["h"])("td",null,[t.origin_price>t.price?(Object(n["t"])(),Object(n["e"])("del",o," $"+Object(n["D"])(t.origin_price),1)):Object(n["f"])("",!0),Object(n["h"])("p",s,"$"+Object(n["D"])(t.price),1)]),Object(n["h"])("td",null,Object(n["D"])(t.name),1),Object(n["h"])("td",null,[Object(n["h"])(g,{to:{name:"產品介紹",params:{id:t.id}},class:"btn btn-outline-success btn-sm mb-3"},{default:Object(n["L"])((function(){return[d]})),_:2},1032,["to"]),Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm d-block",onClick:function(e){return h.addToCart(t.id)},disabled:u.loadingBtn.addCart==t.id},[u.loadingBtn.addCart==t.id?(Object(n["t"])(),Object(n["e"])("span",l)):Object(n["f"])("",!0),r],8,["onClick","disabled"])])])})),128))])]),Object(n["h"])(j,{pages:u.pagination,onEmitChange:t.getProduct},null,8,["pages","onEmitChange"]),Object(n["h"])(O,{ref:"feedbackModal",msg:u.msg},null,8,["msg"])],64)}a("99af");var u=a("8eb4"),h=a("1799"),p={data:function(){return{products:[],pagination:{},msg:"",isSuccessful:!0,isLoading:!0,loadingBtn:{addCart:""}}},components:{FeedbackModal:u["a"],Pagination:h["a"]},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peihan","/products?page=").concat(e);this.axios.get(a).then((function(e){e.data.success?(t.products=e.data.products,t.pagination=e.data.pagination,t.isLoading=!1):alert(e.data.message)})).catch((function(t){console.dir(t)}))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingBtn.addCart=t;var n={data:{product_id:t,qty:a}},c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peihan","/cart");this.axios.post(c,n).then((function(t){t.data.success?(e.loadingBtn.addCart="",e.opanIFmodal(t.data.message)):alert(t.data.message)})).catch((function(t){console.dir(t)}))},opanIFmodal:function(t){var e=this;this.msg=t,this.$refs.feedbackModal.openModal(),setTimeout((function(){e.$refs.feedbackModal.hideModal()}),1200)}},created:function(){document.title="產品列表",this.getProducts()}};p.render=b;e["default"]=p}}]);
//# sourceMappingURL=chunk-5ee34f57.55b56800.js.map