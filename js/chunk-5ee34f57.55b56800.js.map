{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/components/FeedbackModal.vue","webpack:///./src/components/FeedbackModal.vue?6539","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Products.vue","webpack:///./src/views/Products.vue?95da"],"names":["aria-label","class","aria-hidden","pages","has_pre","href","$emit","current_page","total_pages","item","index","key","has_next","props","render","tabindex","aria-labelledby","ref","style","msg","data","modal","mounted","this","$refs","backdrop","methods","openModal","show","document","body","overflow","hideModal","hide","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","width","colspan","role","active","isLoading","products","id","src","image","title","origin_price","price","name","to","type","addToCart","disabled","loadingBtn","addCart","pagination","getProduct","isSuccessful","components","FeedbackModal","Pagination","getProducts","page","url","axios","then","res","success","alert","message","catch","err","console","dir","qty","product_id","post","opanIFmodal","feedbackModal","setTimeout","created"],"mappings":"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","file":"js/chunk-5ee34f57.55b56800.js","sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination pagination-sm justify-content-center\">\n      <li\n      class=\"page-item\"\n      :class=\"{ disabled : !pages.has_pre }\">\n        <a href=\"#\" class=\"page-link\"\n        @click.prevent=\"$emit('emitChange', pages.current_page - 1)\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n\n      <li class=\"page-item\"\n      :class=\"{ 'active' : pages.current_page == item }\"\n      v-for=\"(item, index) in pages.total_pages\"\n      :key=\"index\">\n        <a href=\"#\" class=\"page-link\"\n        @click.prevent=\"$emit('emitChange', item)\">\n          {{ item }}\n        </a>\n      </li>\n\n      <li class=\"page-item\"\n      :class=\"{ disabled : !pages.has_next }\">\n        <a href=\"#\" class=\"page-link\"\n        @click.prevent=\"$emit('emitChange', pages.current_page + 1)\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=2a09b4dc\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\"\n  ref=\"modal\">\n    <div class=\"modal-dialog rounded-pill shadow\" style=\"max-width: 150px\">\n      <div class=\"modal-content rounded-pill\" style=\"border: none;\">\n        <div class=\"modal-body fw-bold text-center\">\n          {{ msg }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      backdrop: false,\n    });\n  },\n  props: ['msg'],\n  methods: {\n    openModal() {\n      this.modal.show();\n      document.body.style.overflow = 'auto'; // 讓背景可以滾動\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n};\n</script>\n","import { render } from \"./FeedbackModal.vue?vue&type=template&id=f3c61652\"\nimport script from \"./FeedbackModal.vue?vue&type=script&lang=js\"\nexport * from \"./FeedbackModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <table class=\"table table-hover w-75 mx-auto\">\n    <thead>\n      <tr>\n      <th>圖片</th>\n      <th>商品名稱</th>\n      <th width=\"40%\" colspan=\"3\">價格</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"item in products\" :key=\"item.id\">\n        <td><img :src=\"item.image\" class=\"rounded img-fluid img-size\"></td>\n        <td>{{ item.title }}</td>\n        <td>\n          <del class=\"text-secondary\" v-if=\"item.origin_price > item.price\">\n            ${{ item.origin_price }}\n          </del>\n          <p class=\"h5 fw-bold mb-0\">${{ item.price }}</p>\n        </td>\n        <td>{{ item.name }}</td>\n        <td>\n          <router-link\n          :to=\"{ name: '產品介紹', params: { id: item.id } }\"\n          class=\"btn btn-outline-success btn-sm mb-3\">查看更多</router-link>\n          <button type=\"button\" class=\"btn btn-outline-danger btn-sm d-block\"\n          @click=\"addToCart(item.id)\"\n          :disabled=\"loadingBtn.addCart == item.id\">\n          <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"\n          v-if=\"loadingBtn.addCart == item.id\"></span>\n            加入購物車\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <!-- 分頁元件 -->\n  <Pagination\n  :pages=\"pagination\"\n  @emit-change=\"getProduct\"\n  ></Pagination>\n  <!-- 回饋 -->\n  <FeedbackModal\n  ref=\"feedbackModal\"\n  :msg=\"msg\"\n  ></FeedbackModal>\n</template>\n\n<script>\nimport FeedbackModal from '@/components/FeedbackModal.vue';\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      msg: '',\n      isSuccessful: true,\n      isLoading: true,\n      loadingBtn: {\n        addCart: '',\n      },\n    };\n  },\n  components: {\n    FeedbackModal,\n    Pagination,\n  },\n  methods: {\n    // 取得產品列表\n    getProducts(page = 1) {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      this.axios.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n            this.isLoading = false;\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    // 加入購物車\n    addToCart(id, qty = 1) {\n      this.loadingBtn.addCart = id;\n      const data = {\n        data: {\n          product_id: id,\n          qty,\n        },\n      };\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.axios.post(url, data)\n        .then((res) => {\n          if (res.data.success) {\n            this.loadingBtn.addCart = '';\n            this.opanIFmodal(res.data.message);\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    opanIFmodal(msg) {\n      this.msg = msg;\n      this.$refs.feedbackModal.openModal();\n      setTimeout(() => {\n        this.$refs.feedbackModal.hideModal();\n      }, 1200);\n    },\n  },\n  created() {\n    document.title = '產品列表';\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./Products.vue?vue&type=template&id=0abb7d23\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}